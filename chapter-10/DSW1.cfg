! --- Global Settings ---
hostname DSW1
no ip domain lookup
vtp mode off

! --- Console Settings ---
line console 0
  logging synchronous
  exec-timeout 20 0
exit

! --- VLAN Config ---
vlan 10
  name NATIVE
  exit
vlan 20
  name USER_DATA
  exit
vlan 30
  name SERVER_FARM
  exit

! --- Spanning Tree Protocol ---
spanning-tree mode rapid-pvst
spanning-tree vlan 10,20 root primary
spanning-tree vlan 30 priority 4096

! --- Etherchannel 1 (Static) ---
! --- DSW1 <---> DSW2 ---
! --- Physical Interfaces: g0/0, g0/1 ---
default interface range g0/0-1
int range g0/0-1
  description CORE_TRUNK_DSW1_DSW2
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk native vlan 10
  switchport nonegotiate
  no shutdown
  channel-group 1 mode on
  exit
 
! --- Ethechannel 3 (LACP) ---
! --- DSW1 <---> DSW3 ---
! Physical Interfaces: g1/0, g1/1
default interface range g1/0-1
int range g1/0-1
  description CORE_TRUNK_DSW1_DSW3
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk native vlan 10
  switchport nonegotiate
  no shutdown
  channel-group 3 mode active
  exit

! --- Ethechannel 10 (LACP) ---
! --- DSW1 <---> ASW1 ---
! Physical Interfaces: g0/2, g0/3
default interface range g0/2-3
int range g0/2-3
  description UPLINK_DSW1_ASW1
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk native vlan 10
  switchport nonegotiate
  no shutdown
  channel-group 10 mode active
  exit
